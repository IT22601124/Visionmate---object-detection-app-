{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PointerTypeMapping = void 0;\nexports.calculateViewScale = calculateViewScale;\nexports.degToRad = exports.coneToDeviation = void 0;\nexports.isPointerInBounds = isPointerInBounds;\nvar _PointerType = require(\"../PointerType\");\nfunction isPointerInBounds(view, _ref) {\n  var x = _ref.x,\n    y = _ref.y;\n  var rect = view.getBoundingClientRect();\n  return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;\n}\nvar PointerTypeMapping = exports.PointerTypeMapping = new Map([['mouse', _PointerType.PointerType.MOUSE], ['touch', _PointerType.PointerType.TOUCH], ['pen', _PointerType.PointerType.STYLUS], ['none', _PointerType.PointerType.OTHER]]);\nvar degToRad = exports.degToRad = function degToRad(degrees) {\n  return degrees * Math.PI / 180;\n};\nvar coneToDeviation = exports.coneToDeviation = function coneToDeviation(degrees) {\n  return Math.cos(degToRad(degrees / 2));\n};\nfunction calculateViewScale(view) {\n  var _RegExp$exec;\n  var styles = getComputedStyle(view);\n  var resultScales = {\n    scaleX: 1,\n    scaleY: 1\n  };\n  if (styles.scale !== undefined && styles.scale !== 'none') {\n    var scales = styles.scale.split(' ');\n    if (scales[0]) {\n      resultScales.scaleX = parseFloat(scales[0]);\n    }\n    resultScales.scaleY = scales[1] ? parseFloat(scales[1]) : parseFloat(scales[0]);\n  }\n  var matrixElements = (_RegExp$exec = new RegExp(/matrix\\((.+)\\)/).exec(styles.transform)) === null || _RegExp$exec === void 0 ? void 0 : _RegExp$exec[1];\n  if (matrixElements) {\n    var matrixElementsArray = matrixElements.split(', ');\n    resultScales.scaleX *= parseFloat(matrixElementsArray[0]);\n    resultScales.scaleY *= parseFloat(matrixElementsArray[3]);\n  }\n  return resultScales;\n}","map":{"version":3,"names":["_PointerType","require","isPointerInBounds","view","_ref","x","y","rect","getBoundingClientRect","left","right","top","bottom","PointerTypeMapping","exports","Map","PointerType","MOUSE","TOUCH","STYLUS","OTHER","degToRad","degrees","Math","PI","coneToDeviation","cos","calculateViewScale","_RegExp$exec","styles","getComputedStyle","resultScales","scaleX","scaleY","scale","undefined","scales","split","parseFloat","matrixElements","RegExp","exec","transform","matrixElementsArray"],"sources":["F:\\node\\vision\\node_modules\\react-native-gesture-handler\\lib\\module\\web\\utils.ts"],"sourcesContent":["import { PointerType } from '../PointerType';\nimport { Point } from './interfaces';\n\nexport function isPointerInBounds(view: HTMLElement, { x, y }: Point): boolean {\n  const rect: DOMRect = view.getBoundingClientRect();\n\n  return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;\n}\n\nexport const PointerTypeMapping = new Map<string, PointerType>([\n  ['mouse', PointerType.MOUSE],\n  ['touch', PointerType.TOUCH],\n  ['pen', PointerType.STYLUS],\n  ['none', PointerType.OTHER],\n]);\n\nexport const degToRad = (degrees: number) => (degrees * Math.PI) / 180;\n\nexport const coneToDeviation = (degrees: number) =>\n  Math.cos(degToRad(degrees / 2));\n\nexport function calculateViewScale(view: HTMLElement) {\n  const styles = getComputedStyle(view);\n\n  const resultScales = {\n    scaleX: 1,\n    scaleY: 1,\n  };\n\n  // Get scales from scale property\n  if (styles.scale !== undefined && styles.scale !== 'none') {\n    const scales = styles.scale.split(' ');\n\n    if (scales[0]) {\n      resultScales.scaleX = parseFloat(scales[0]);\n    }\n\n    resultScales.scaleY = scales[1]\n      ? parseFloat(scales[1])\n      : parseFloat(scales[0]);\n  }\n\n  // Get scales from transform property\n  const matrixElements = new RegExp(/matrix\\((.+)\\)/).exec(\n    styles.transform\n  )?.[1];\n\n  if (matrixElements) {\n    const matrixElementsArray = matrixElements.split(', ');\n\n    resultScales.scaleX *= parseFloat(matrixElementsArray[0]);\n    resultScales.scaleY *= parseFloat(matrixElementsArray[3]);\n  }\n\n  return resultScales;\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AAGO,SAASC,iBAATA,CAA2BC,IAA3B,EAAAC,IAAA,EAAwE;EAAA,IAAxBC,CAAF,GAAAD,IAAA,CAAEC,CAAF;IAAKC,CAAA,GAAAF,IAAA,CAAAE,CAAA;EACxD,IAAMC,IAAa,GAAGJ,IAAI,CAACK,qBAAL,EAAtB;EAEA,OAAOH,CAAC,IAAIE,IAAI,CAACE,IAAV,IAAkBJ,CAAC,IAAIE,IAAI,CAACG,KAA5B,IAAqCJ,CAAC,IAAIC,IAAI,CAACI,GAA/C,IAAsDL,CAAC,IAAIC,IAAI,CAACK,MAAvE;AACD;AAEM,IAAMC,kBAAkB,GAAAC,OAAA,CAAAD,kBAAA,GAAG,IAAIE,GAAJ,CAA6B,CAC7D,CAAC,OAAD,EAAUC,wBAAW,CAACC,KAAtB,CAD6D,EAE7D,CAAC,OAAD,EAAUD,wBAAW,CAACE,KAAtB,CAF6D,EAG7D,CAAC,KAAD,EAAQF,wBAAW,CAACG,MAApB,CAH6D,EAI7D,CAAC,MAAD,EAASH,wBAAW,CAACI,KAArB,CAJ6D,CAA7B,CAA3B;AAOA,IAAMC,QAAQ,GAAAP,OAAA,CAAAO,QAAA,GAAI,SAAZA,QAAQA,CAAIC,OAAD;EAAA,OAAsBA,OAAO,GAAGC,IAAI,CAACC,EAAhB,GAAsB,GAA5D;AAAA;AAEA,IAAMC,eAAe,GAAAX,OAAA,CAAAW,eAAA,GAAI,SAAnBA,eAAeA,CAAIH,OAAD;EAAA,OAC7BC,IAAI,CAACG,GAAL,CAASL,QAAQ,CAACC,OAAO,GAAG,CAAX,CAAjB,CADK;AAAA;AAGA,SAASK,kBAATA,CAA4BxB,IAA5B,EAA+C;EAAA,IAAAyB,YAAA;EACpD,IAAMC,MAAM,GAAGC,gBAAgB,CAAC3B,IAAD,CAA/B;EAEA,IAAM4B,YAAY,GAAG;IACnBC,MAAM,EAAE,CADW;IAEnBC,MAAM,EAAE;EAFW,CAArB;EAMA,IAAIJ,MAAM,CAACK,KAAP,KAAiBC,SAAjB,IAA8BN,MAAM,CAACK,KAAP,KAAiB,MAAnD,EAA2D;IACzD,IAAME,MAAM,GAAGP,MAAM,CAACK,KAAP,CAAaG,KAAb,CAAmB,GAAnB,CAAf;IAEA,IAAID,MAAM,CAAC,CAAD,CAAV,EAAe;MACbL,YAAY,CAACC,MAAb,GAAsBM,UAAU,CAACF,MAAM,CAAC,CAAD,CAAP,CAAhC;IACD;IAEDL,YAAY,CAACE,MAAb,GAAsBG,MAAM,CAAC,CAAD,CAAN,GAClBE,UAAU,CAACF,MAAM,CAAC,CAAD,CAAP,CADQ,GAElBE,UAAU,CAACF,MAAM,CAAC,CAAD,CAAP,CAFd;EAGD;EAGD,IAAMG,cAAc,IAAAX,YAAA,GAAG,IAAIY,MAAJ,CAAW,gBAAX,EAA6BC,IAA7B,CACrBZ,MAAM,CAACa,SADc,CAAH,cAAAd,YAAA,uBAAGA,YAAA,CAEnB,CAFmB,CAAvB;EAIA,IAAIW,cAAJ,EAAoB;IAClB,IAAMI,mBAAmB,GAAGJ,cAAc,CAACF,KAAf,CAAqB,IAArB,CAA5B;IAEAN,YAAY,CAACC,MAAb,IAAuBM,UAAU,CAACK,mBAAmB,CAAC,CAAD,CAApB,CAAjC;IACAZ,YAAY,CAACE,MAAb,IAAuBK,UAAU,CAACK,mBAAmB,CAAC,CAAD,CAApB,CAAjC;EACD;EAED,OAAOZ,YAAP;AACD","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}